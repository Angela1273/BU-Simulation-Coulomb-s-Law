<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2113.3">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px Courier; -webkit-text-stroke: #000000}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px Courier; -webkit-text-stroke: #000000; min-height: 16.0px}
    span.s1 {font-kerning: none}
    span.s2 {text-decoration: underline ; font-kerning: none; color: #0000e9; -webkit-text-stroke: 0px #0000e9}
    span.Apple-tab-span {white-space:pre}
  </style>
</head>
<body>
<p class="p1"><span class="s1">&lt;!DOCTYPE html&gt;</span></p>
<p class="p1"><span class="s1">&lt;html&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">&lt;head&gt;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1">&lt;script&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>window.dataLayer = window.dataLayer || [];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>function gtag(){dataLayer.push(arguments);}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>gtag('js', new Date());</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>gtag('config', 'UA-8175315-20');</span></p>
<p class="p1"><span class="s1">&lt;/script&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;meta charset="utf-8"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;title&gt;Coulomb interaction&lt;/title&gt;</span></p>
<p class="p1"><span class="s1">&lt;/head&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">&lt;body style="font-family:sans-serif; font-size:15px; margin-left:10; margin-right:10;"&gt;</span></p>
<p class="p1"><span class="s1">&lt;center&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>&lt;div id="canvasesdiv" style="position:relative; display:block; margin:auto; width:600px; height:520px"&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;canvas id="myCanvas" style="display: block; position: absolute; margin: 0 auto;display: block;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>position: absolute; margin: 0 auto; top: 0; bottom: 0; left: 0; right: 0;" width="600" height="520"&gt;&lt;/canvas&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div id="buttons"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>&lt;input type="button" id="play" value="Play" onclick="play()"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>&lt;input type="button" id="pause" value="Pause" onclick="pause()"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>&lt;input type="button" id="stepforward" value="Step &gt;&gt;" onclick="stepForward()"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>&lt;input type="button" id="reset" value="Reset" onclick="reset()"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;div id="morebuttons"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>&lt;input type="button" id="showbutton" value="Show net force arrows" onclick="showNetForce = 1; drawMotion();"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>&lt;input type="button" id="hidebutton" value="Hide net force arrows" onclick="showNetForce = 0; drawMotion();"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;div&gt;Show individual forces for: &amp;nbsp; &amp;nbsp;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;input type="checkbox" id="check1" onchange="drawMotion();" &gt;Charge 1</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;input type="checkbox" id="check2" onchange="drawMotion();" &gt;Charge 2</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;input type="checkbox" id="check3" onchange="drawMotion();" &gt;Charge 3</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;input type="checkbox" id="check4" onchange="drawMotion();" &gt;Charge 4</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">&lt;/center&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;script&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>function play() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>window.clearTimeout(timer);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>runFlag = 1;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>runMotion();</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>function pause() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>window.clearTimeout(timer);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>runFlag = 0;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>function stepForward() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>window.clearTimeout(timer);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>runFlag = 1;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>drawMotion();</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>function stepBack() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>window.clearTimeout(timer);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>index = index-2;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (index &lt; -1) index = -1;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>time = index/20;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>xPos = xBase;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>runFlag = 1;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>drawMotion();</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>function initializeValues() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>charge1X = 300-1.5*40;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>charge1Y = yBase+20;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>charge2X = 300+1.5*40;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>charge2Y = yBase+20;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>charge3X = 300;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>charge3Y = yBase-80;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>charge4X = 310;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>charge4Y = yBase-20;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>showNetForce = 1;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>charge1Vx = 0.2*Math.random();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>charge1Vy = -0.2*Math.random();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>charge2Vx = -0.2*Math.random();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>charge2Vy = -0.2*Math.random();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>charge3Vx = -0.1 + 0.2*Math.random();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>charge3Vy = 0.1*Math.random();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>charge4Vx = -0.1 + 0.2*Math.random();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>charge4Vy = -0.1 + 0.2*Math.random();</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>Q1 = 3;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>Q2 = 4;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>Q3 = 2;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>Q4 = 4;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>ran1 = Math.random();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>ran2 = Math.random();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>ran3 = Math.random();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>tempQ;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (ran1 &gt; ran2) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>tempQ = Q1;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>Q1 = Q2;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>Q2 = tempQ;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (ran1 &gt; ran3) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>tempQ = Q1;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>Q1 = Q3;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">         </span>Q3 = tempQ;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">         </span>if ((ran2 &gt; ran3) &amp;&amp; (Q2 &lt; Q3)) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>tempQ = Q2;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>Q2 = Q3;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>Q3 = tempQ;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">         </span>if ((ran2 &gt; ran1) &amp;&amp; (Q2 &lt; Q1)) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>tempQ = Q2;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>Q2 = Q1;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>Q1 = tempQ;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (Math.random() &lt; 0.5) Q1 = -Q1;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (Math.random() &lt; 0.5) Q2 = -Q2;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (Math.random() &lt; 0.5) Q3 = -Q3;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (Math.random() &lt; 0.5) Q4 = -Q4;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>q1sliderValue = Q1;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>q2sliderValue = Q2;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>q3sliderValue = Q3;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>q4sliderValue = Q4;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>q1sliderX = q1sliderXMin+(q1sliderXMax-q1sliderXMin)*(Q1-q1sliderValueMin)/(q1sliderValueMax-q1sliderValueMin);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>q2sliderX = q2sliderXMin+(q2sliderXMax-q2sliderXMin)*(Q2-q2sliderValueMin)/(q2sliderValueMax-q2sliderValueMin);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>q3sliderX = q3sliderXMin+(q3sliderXMax-q3sliderXMin)*(Q3-q3sliderValueMin)/(q3sliderValueMax-q3sliderValueMin);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>q4sliderX = q4sliderXMin+(q4sliderXMax-q4sliderXMin)*(Q4-q4sliderValueMin)/(q4sliderValueMax-q4sliderValueMin);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>function reset() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>window.clearTimeout(timer);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>initializeValues();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>index = -1;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>time = 0.0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>runFlag = 1;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>drawMotion();</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var canvas = document.getElementById("myCanvas");</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var context = canvas.getContext("2d");</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>canvas.onmousedown = myDown;<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>// mouse event handler for computer browsers</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-converted-space">  </span>canvas.onmouseup = myUp;<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>// mouse event handler for computer browsers</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-converted-space">  </span>canvas.addEventListener("touchstart", myTouchStart, false);<span class="Apple-tab-span">	</span>// touch handler for iPhones, iPads, and Androids</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-converted-space">  </span>canvas.addEventListener("touchmove", myTouchMove, false);<span class="Apple-tab-span">	</span>// touch handler for iPhones, iPads, and Androids</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-converted-space">  </span>canvas.addEventListener("touchend", myTouchEnd, false);<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>// touch handler for iPhones, iPads, and Androids</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var check1 = document.getElementById("check1");</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var check2 = document.getElementById("check2");</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var check3 = document.getElementById("check3");</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var check4 = document.getElementById("check4");</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var index = -1;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var xBase = 50;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var yBase = 200;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var radius = 14;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var runFlag = 1;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var time = 0.0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var timer;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var charge1X = 300-1.5*40;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var charge1Y = yBase+20;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var charge2X = 300+1.5*40;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var charge2Y = yBase+20;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var charge3X = 300;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var charge3Y = yBase-80;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var charge4X = 310;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var charge4Y = yBase-20;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var showNetForce = 1;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var charge1Vx = 0.2*Math.random();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var charge1Vy = -0.2*Math.random();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var charge2Vx = -0.2*Math.random();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var charge2Vy = -0.2*Math.random();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var charge3Vx = -0.1 + 0.2*Math.random();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var charge3Vy = 0.1*Math.random();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var charge4Vx = -0.1 + 0.2*Math.random();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var charge4Vy = -0.1 + 0.2*Math.random();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var dt = 0.005;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var sensorX = xBase+240;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var sensorY = yBase - 20;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var feedbackMessage = 'Rank the charges based on their magnitudes';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var Ex = 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var Ey = 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var F1x = 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var F1y = 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var F2x = 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var F2y = 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var F3x = 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var F3y = 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var F4x = 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var F4y = 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var alreadyGuessedFlag = 0;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var potential = 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var k = -8000;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var rSq = 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var xPos = 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var yPos = 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var vectorColor = 'black';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var Q1 = 3;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var Q2 = 4;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var Q3 = 2;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var Q4 = 4;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var ran1 = Math.random();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var ran2 = Math.random();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var ran3 = Math.random();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var tempQ;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (ran1 &gt; ran2) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>tempQ = Q1;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>Q1 = Q2;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>Q2 = tempQ;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (ran1 &gt; ran3) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>tempQ = Q1;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>Q1 = Q3;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>Q3 = tempQ;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">       </span>if ((ran2 &gt; ran3) &amp;&amp; (Q2 &lt; Q3)) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>tempQ = Q2;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>Q2 = Q3;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>Q3 = tempQ;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if ((ran2 &gt; ran1) &amp;&amp; (Q2 &lt; Q1)) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>tempQ = Q2;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>Q2 = Q1;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>Q1 = tempQ;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (Math.random() &lt; 0.5) Q1 = -Q1;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (Math.random() &lt; 0.5) Q2 = -Q2;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (Math.random() &lt; 0.5) Q3 = -Q3;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (Math.random() &lt; 0.5) Q4 = -Q4;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var guessQ1 = 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var guessQ2 = 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var chargeColor = "red";</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var rightAnswer = 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var wrongAnswer = 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var minrSq = 0.0;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space"> </span>// <span class="Apple-converted-space">    </span>var q1sliderX = 300;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var q1sliderY = 420;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var q1sliderXMin = 50;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var q1sliderXMax = 250;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var q1sliderValueMin = -5.0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var q1sliderValueMax = 5.0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var q1sliderValue = Q1;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var q1sliderX = q1sliderXMin+(q1sliderXMax-q1sliderXMin)*(Q1-q1sliderValueMin)/(q1sliderValueMax-q1sliderValueMin);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var q1sliderDecimals = 2;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">//<span class="Apple-converted-space">      </span>var q2sliderX = 580;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var q2sliderY = 420;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var q2sliderXMin = 350;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var q2sliderXMax = 550;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var q2sliderValueMin = -5.0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var q2sliderValueMax = 5.0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var q2sliderValue = Q2;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var q2sliderX = q2sliderXMin+(q2sliderXMax-q2sliderXMin)*(Q2-q2sliderValueMin)/(q2sliderValueMax-q2sliderValueMin);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var q2sliderDecimals = 2;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space"> </span>// <span class="Apple-converted-space">    </span>var q3sliderX = 300;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var q3sliderY = 500;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var q3sliderXMin = 50;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var q3sliderXMax = 250;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var q3sliderValueMin = -5.0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var q3sliderValueMax = 5.0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var q3sliderValue = Q3;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var q3sliderX = q3sliderXMin+(q3sliderXMax-q3sliderXMin)*(Q3-q3sliderValueMin)/(q3sliderValueMax-q3sliderValueMin);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var q3sliderDecimals = 2;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">//<span class="Apple-converted-space">      </span>var q4sliderX = 580;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var q4sliderY = 500;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var q4sliderXMin = 350;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var q4sliderXMax = 550;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var q4sliderValueMin = -5.0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var q4sliderValueMax = 5.0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var q4sliderValue = Q4;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var q4sliderX = q4sliderXMin+(q4sliderXMax-q4sliderXMin)*(Q4-q4sliderValueMin)/(q4sliderValueMax-q4sliderValueMin);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var q4sliderDecimals = 2;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var arraySize = 5;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var ray = new Array(arraySize);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>for (var i = 0; i &lt; arraySize; i++) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">         </span>ray[i] = {};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">         </span>ray[i].x = 0.0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">         </span>ray[i].y = 0.0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">         </span>ray[i].charge = 0.0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">         </span>ray[i].color = "black";</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>ray[1].x = charge1X;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>ray[1].y = charge1Y;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>ray[1].charge = Q1;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>ray[1].color = "#f66";</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>ray[2].x = charge2X;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>ray[2].y = charge2Y;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>ray[2].charge = Q2;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>ray[2].color = "#b6b";</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>ray[3].x = charge3X;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>ray[3].y = charge3Y;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>ray[3].charge = Q3;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>ray[3].color = "#fa6";</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>ray[4].x = charge4X;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>ray[4].y = charge4Y;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>ray[4].charge = Q4;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>ray[4].color = "#6a6";</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var nTrailArray = 30000;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var trail1 = new Array(nTrailArray);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>for (var i = 0; i &lt; nTrailArray; i++) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">         </span>trail1[i] = {};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">         </span>trail1[i].x = 0.0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">         </span>trail1[i].y = 0.0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>trail1[0].x = charge1X;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>trail1[0].y = charge1Y;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var trail2 = new Array(nTrailArray);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>for (var i = 0; i &lt; nTrailArray; i++) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">         </span>trail2[i] = {};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">         </span>trail2[i].x = 0.0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">         </span>trail2[i].y = 0.0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>trail2[0].x = charge2X;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>trail2[0].y = charge2Y;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var trail3 = new Array(nTrailArray);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>for (var i = 0; i &lt; nTrailArray; i++) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">         </span>trail3[i] = {};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">         </span>trail3[i].x = 0.0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">         </span>trail3[i].y = 0.0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>trail3[0].x = charge3X;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>trail3[0].y = charge3Y;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>var trail4 = new Array(nTrailArray);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>for (var i = 0; i &lt; nTrailArray; i++) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">         </span>trail4[i] = {};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">         </span>trail4[i].x = 0.0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">         </span>trail4[i].y = 0.0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>trail4[0].x = charge4X;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>trail4[0].y = charge4Y;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">     </span>drawMotion();</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function drawMotion() {</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space"> </span>//<span class="Apple-converted-space">    </span>console.log("In the drawMotion function, with runFlag = " + runFlag );</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>runFlag = 1;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>//<span class="Apple-converted-space">    </span>console.log("In the drawMotion function, with runFlag = " + runFlag + " yPos = " + yPos + " index = " +index);</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (runFlag == 1) {<span class="Apple-converted-space">    </span>//<span class="Apple-converted-space">      </span>run if runFlag equal 1, not if equal 0</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// clear</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>context.clearRect(0, 0, canvas.width, canvas.height);</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>index = index + 1;</span></p>
<p class="p1"><span class="s1">//<span class="Apple-converted-space">        </span>console.log(Q1 + " <span class="Apple-converted-space">  </span>" +Q2 + "<span class="Apple-converted-space">    </span>" + Q3);</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// clear</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>context.clearRect(0, 0, canvas.width, canvas.height);</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// set background color for the entire thing</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.fillStyle = "#ffd";</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.fillRect(0, 0, canvas.width, canvas.height);</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">       </span>// draw Q1 slider</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>drawSlider(q1sliderX, q1sliderY, q1sliderXMin, q1sliderXMax, q1sliderValueMin, q1sliderValueMax, q1sliderValue, q1sliderDecimals);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>var sLabel = 'Q1 = ';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>sLabel = sLabel + q1sliderValue.toFixed(q1sliderDecimals) + ' nC';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.font = '16pt Calibri';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.textAlign = 'center';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.textBaseline = 'middle';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.fillStyle = 'black';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.fillText(sLabel,q1sliderXMin+0.5*(q1sliderXMax-q1sliderXMin), q1sliderY-25);</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">       </span>// draw Q2 slider</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>drawSlider(q2sliderX, q2sliderY, q2sliderXMin, q2sliderXMax, q2sliderValueMin, q2sliderValueMax, q2sliderValue, q2sliderDecimals);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>sLabel = 'Q2 = ';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>sLabel = sLabel + q2sliderValue.toFixed(q2sliderDecimals) + ' nC';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.font = '16pt Calibri';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.textAlign = 'center';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.textBaseline = 'middle';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.fillStyle = 'black';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.fillText(sLabel,q2sliderXMin+0.5*(q2sliderXMax-q2sliderXMin), q2sliderY-25);</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">       </span>// draw Q3 slider</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>drawSlider(q3sliderX, q3sliderY, q3sliderXMin, q3sliderXMax, q3sliderValueMin, q3sliderValueMax, q3sliderValue, q3sliderDecimals);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>var sLabel = 'Q3 = ';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>sLabel = sLabel + q3sliderValue.toFixed(q3sliderDecimals) + ' nC';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.font = '16pt Calibri';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.textAlign = 'center';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.textBaseline = 'middle';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.fillStyle = 'black';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.fillText(sLabel,q3sliderXMin+0.5*(q3sliderXMax-q3sliderXMin), q3sliderY-25);</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">       </span>// draw Q4 slider</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>drawSlider(q4sliderX, q4sliderY, q4sliderXMin, q4sliderXMax, q4sliderValueMin, q4sliderValueMax, q4sliderValue, q4sliderDecimals);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>sLabel = 'Q4 = ';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>sLabel = sLabel + q4sliderValue.toFixed(q4sliderDecimals) + ' nC';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.font = '16pt Calibri';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.textAlign = 'center';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.textBaseline = 'middle';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.fillStyle = 'black';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.fillText(sLabel,q4sliderXMin+0.5*(q4sliderXMax-q4sliderXMin), q4sliderY-25);</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// set line color</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.strokeStyle = 'black';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.lineWidth = 2;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// draw grid</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>for (var i = 0; i&lt;11; i++) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">             </span>context.beginPath();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">             </span>context.moveTo(60*i, 0);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">             </span>context.lineTo(60*i, 360);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">             </span>context.stroke();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>for (var j = 0; j&lt;7; j++) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">             </span>context.beginPath();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">             </span>context.moveTo(0,60*j);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">             </span>context.lineTo(600,60*j);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">             </span>context.stroke();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">         </span>// new section to calculate the forces on charge 1</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>rSq = (charge2X-charge1X)*(charge2X-charge1X) + (charge2Y-charge1Y)*(charge2Y-charge1Y);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>var F12x = k*Q1*Q2*(charge2X-charge1X)/Math.pow(rSq,1.5);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>var F12y = k*Q1*Q2*(charge1Y-charge2Y)/Math.pow(rSq,1.5);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>var F21x = -F12x;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>var F21y = -F12y;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>minrSq = rSq;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>rSq = (charge3X-charge1X)*(charge3X-charge1X) + (charge3Y-charge1Y)*(charge3Y-charge1Y);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>var F13x = k*Q1*Q3*(charge3X-charge1X)/Math.pow(rSq,1.5);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>var F13y = k*Q1*Q3*(charge1Y-charge3Y)/Math.pow(rSq,1.5);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>var F31x = -F13x;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>var F31y = -F13y;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>if (rSq &lt; minrSq) { minrSq = rSq; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>rSq = (charge4X-charge1X)*(charge4X-charge1X) + (charge4Y-charge1Y)*(charge4Y-charge1Y);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>var F14x = k*Q1*Q4*(charge4X-charge1X)/Math.pow(rSq,1.5);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>var F14y = k*Q1*Q4*(charge1Y-charge4Y)/Math.pow(rSq,1.5);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>var F41x = -F14x;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>var F41y = -F14y;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>if (rSq &lt; minrSq) { minrSq = rSq; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>if (check1.checked) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">             </span>drawArrow(F12x,F12y,charge1X,charge1Y,ray[2].color)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">             </span>drawArrow(F13x,F13y,charge1X,charge1Y,ray[3].color)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">             </span>drawArrow(F14x,F14y,charge1X,charge1Y,ray[4].color)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">         </span>// new section to calculate the forces on charge 2</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>rSq = (charge3X-charge2X)*(charge3X-charge2X) + (charge3Y-charge2Y)*(charge3Y-charge2Y);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>var F23x = k*Q3*Q2*(charge3X-charge2X)/Math.pow(rSq,1.5);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>var F23y = k*Q3*Q2*(charge2Y-charge3Y)/Math.pow(rSq,1.5);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>var F32x = -F23x;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>var F32y = -F23y;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>if (rSq &lt; minrSq) { minrSq = rSq; }</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>rSq = (charge4X-charge2X)*(charge4X-charge2X) + (charge4Y-charge2Y)*(charge4Y-charge2Y);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>var F24x = k*Q2*Q4*(charge4X-charge2X)/Math.pow(rSq,1.5);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>var F24y = k*Q2*Q4*(charge2Y-charge4Y)/Math.pow(rSq,1.5);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>var F42x = -F24x;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>var F42y = -F24y;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>if (rSq &lt; minrSq) { minrSq = rSq; }</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>if (check2.checked) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">             </span>drawArrow(F21x,F21y,charge2X,charge2Y,ray[1].color)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">             </span>drawArrow(F23x,F23y,charge2X,charge2Y,ray[3].color)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">             </span>drawArrow(F24x,F24y,charge2X,charge2Y,ray[4].color)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">         </span>// new section to calculate the forces on charge 3</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>rSq = (charge4X-charge3X)*(charge4X-charge3X) + (charge4Y-charge3Y)*(charge4Y-charge3Y);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>var F34x = k*Q3*Q4*(charge4X-charge3X)/Math.pow(rSq,1.5);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>var F34y = k*Q3*Q4*(charge3Y-charge4Y)/Math.pow(rSq,1.5);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>var F43x = -F34x;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>var F43y = -F34y;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>if (rSq &lt; minrSq) { minrSq = rSq; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>if (minrSq &lt; 10) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>dt = 0.0005;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>else {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>dt = 0.005;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>if (check3.checked) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">             </span>drawArrow(F31x,F31y,charge3X,charge3Y,ray[1].color)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">             </span>drawArrow(F32x,F32y,charge3X,charge3Y,ray[2].color)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">             </span>drawArrow(F34x,F34y,charge3X,charge3Y,ray[4].color)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">         </span>// new section to draw the forces on charge 4</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>if (check4.checked) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">             </span>drawArrow(F41x,F41y,charge4X,charge4Y,ray[1].color)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">             </span>drawArrow(F42x,F42y,charge4X,charge4Y,ray[2].color)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">             </span>drawArrow(F43x,F43y,charge4X,charge4Y,ray[3].color)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>F1x = F12x + F13x + F14x;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>F1y = F12y + F13y + F14y;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>F2x = F21x + F23x + F24x;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>F2y = F21y + F23y + F24y;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>F3x = F31x + F32x + F34x;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>F3y = F31y + F32y + F34y;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>F4x = F41x + F42x + F43x;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>F4y = F41y + F42y + F43y;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>if (showNetForce == 1) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>vectorColor = "black";</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>drawArrow(F1x,F1y,charge1X,charge1Y,vectorColor)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>drawArrow(F2x,F2y,charge2X,charge2Y,vectorColor)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>drawArrow(F3x,F3y,charge3X,charge3Y,vectorColor)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">              </span>drawArrow(F4x,F4y,charge4X,charge4Y,vectorColor)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// draw charges</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>if (Q1 &gt; 0) chargeColor = "#f88";</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>else chargeColor = "#aaf";</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>chargeColor = ray[1].color;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.fillStyle = chargeColor;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.strokeStyle = chargeColor;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>// <span class="Apple-converted-space">        </span>console.log(index + " " + trail1[index].x + " " + trail1[index].y);</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.beginPath();<span class="Apple-converted-space">           </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.moveTo(trail1[0].x, trail1[0].y);</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>for (var i=1; i&lt;= index; i++) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>context.lineTo(trail1[i].x,trail1[i].y);</span></p>
<p class="p1"><span class="s1">//<span class="Apple-converted-space">            </span>console.log(i);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.lineWidth = 2;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.stroke();</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.beginPath();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.arc(charge1X, charge1Y, radius, 0, 2 * Math.PI, false);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.fill();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.lineWidth = 2;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.stroke();</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>if (Q2 &gt; 0) chargeColor = "#f88";</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>else chargeColor = "#aaf";</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>chargeColor = ray[2].color;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.fillStyle = chargeColor;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.strokeStyle = chargeColor;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.beginPath();<span class="Apple-converted-space">           </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.moveTo(trail2[0].x, trail2[0].y);</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>for (var i=1; i&lt;= index; i++) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>context.lineTo(trail2[i].x,trail2[i].y);</span></p>
<p class="p1"><span class="s1">//<span class="Apple-converted-space">            </span>console.log(i);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.lineWidth = 2;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.stroke();</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.beginPath();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.arc(charge2X, charge2Y, radius, 0, 2 * Math.PI, false);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.fill();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.lineWidth = 2;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.stroke();</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>if (Q3 &gt; 0) chargeColor = "#f88";</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>else chargeColor = "#aaf";</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>chargeColor = ray[3].color;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.fillStyle = chargeColor;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.strokeStyle = chargeColor;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.beginPath();<span class="Apple-converted-space">           </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.moveTo(trail3[0].x, trail3[0].y);</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>for (var i=1; i&lt;= index; i++) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>context.lineTo(trail3[i].x,trail3[i].y);</span></p>
<p class="p1"><span class="s1">//<span class="Apple-converted-space">            </span>console.log(i);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.lineWidth = 2;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.stroke();</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.beginPath();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.arc(charge3X, charge3Y, radius, 0, 2 * Math.PI, false);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.fill();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.lineWidth = 2;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.stroke();</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>if (Q4 &gt; 0) chargeColor = "#f88";</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>else chargeColor = "#aaf";</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>chargeColor = ray[4].color;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.fillStyle = chargeColor;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.strokeStyle = chargeColor;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.beginPath();<span class="Apple-converted-space">           </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.moveTo(trail4[0].x, trail4[0].y);</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>for (var i=1; i&lt;= index; i++) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>context.lineTo(trail4[i].x,trail4[i].y);</span></p>
<p class="p1"><span class="s1">//<span class="Apple-converted-space">            </span>console.log(i);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.lineWidth = 2;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.stroke();</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.beginPath();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.arc(charge4X, charge4Y, radius, 0, 2 * Math.PI, false);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.fill();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.lineWidth = 2;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.stroke();</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.font = '16pt Calibri';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.fillStyle = 'black';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.textAlign = 'center';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.fillText("1", charge1X, charge1Y);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.fillText("2", charge2X, charge2Y);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.fillText("3", charge3X, charge3Y);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.fillText("4", charge4X, charge4Y);</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">//<span class="Apple-converted-space">  </span>move the charges</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>charge1Vx = charge1Vx + F1x * dt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>charge1Vy = charge1Vy + F1y * dt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>charge1X = charge1X + charge1Vx * dt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>charge1Y = charge1Y - charge1Vy * dt;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>charge2Vx = charge2Vx + F2x * dt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>charge2Vy = charge2Vy + F2y * dt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>charge2X = charge2X + charge2Vx * dt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>charge2Y = charge2Y - charge2Vy * dt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>charge3Vx = charge3Vx + F3x * dt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>charge3Vy = charge3Vy + F3y * dt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>charge3X = charge3X + charge3Vx * dt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>charge3Y = charge3Y - charge3Vy * dt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>charge4Vx = charge4Vx + F4x * dt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>charge4Vy = charge4Vy + F4y * dt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>charge4X = charge4X + charge4Vx * dt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>charge4Y = charge4Y - charge4Vy * dt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>trail1[index+1].x = charge1X;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>trail1[index+1].y = charge1Y;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>trail2[index+1].x = charge2X;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>trail2[index+1].y = charge2Y;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>trail3[index+1].x = charge3X;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>trail3[index+1].y = charge3Y;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>trail4[index+1].x = charge4X;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>trail4[index+1].y = charge4Y;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">   </span>//<span class="Apple-converted-space">        </span>console.log(index + index + " " + trail1[index+1].x + " " + trail1[index+1].y);</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function runMotion() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>drawMotion();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (runFlag == 1) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>timer = window.setTimeout(runMotion, 20/60);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function drawArrow(Fx,Fy,Px,Py, arrowColor) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>var theta = Math.atan2(Fy,Fx);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.strokeStyle = arrowColor;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.lineWidth = 4;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.beginPath();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.moveTo(Px, Py);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.lineTo(Px+5*Fx, Py-5*Fy);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.stroke();</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.lineWidth = 2;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>var Fmag = Math.sqrt(Fx*Fx+Fy*Fy);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>if (Fmag &gt; 5) Fmag = 5;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.fillStyle = arrowColor;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.beginPath();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.moveTo(Px+5*Fx-3*Fmag*Math.cos(theta+0.25*(3.1416/2)),Py-5*Fy+3*Fmag*Math.sin(theta+0.25*(3.1416/2)));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.lineTo(Px+5*Fx,Py-5*Fy);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.lineTo(Px+5*Fx-3*Fmag*Math.cos(theta-0.25*(3.1416/2)),Py-5*Fy+3*Fmag*Math.sin(theta-0.25*(3.1416/2)));</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.stroke();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.fill();</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function drawAxes(xAxisStart,yAxisStart,xNum, yNum, xOffset, xIncrement, yIncrement, xNumDecimals, yNumDecimals, xAxisTitle, yAxisTitle, graphTitle) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// set background color for the graph</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.fillStyle = "#eff";</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.fillRect(xAxisStart, yAxisStart, 40*xNum, 40*yNum);</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>var axisLabel = '';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>var axisValue = 0;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">         </span>// vertical grid lines</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">         </span>context.lineWidth = 2;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">         </span>context.strokeStyle = '#888';</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">         </span>for (var i = 0; i &lt;= xNum; i++) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.beginPath();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.moveTo(xAxisStart+40*i, yAxisStart);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.lineTo(xAxisStart+40*i, yAxisStart+40*yNum+10);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.stroke();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.font = '14pt Calibri';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.fillStyle = 'black';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.textAlign = 'center';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.textBaseline = 'middle';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>axisValue = xOffset+xIncrement*(i);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>axisLabel = axisValue.toFixed(xNumDecimals);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.fillText(axisLabel, xAxisStart+40*i, yAxisStart+40*yNum+20);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">         </span>// horizontal grid lines</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">         </span>for (i = 0; i &lt;= yNum; i++) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.beginPath();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.moveTo(xAxisStart-10, yAxisStart+40*i);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.lineTo(xAxisStart+40*xNum, yAxisStart+40*i);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.stroke();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.font = '14pt Calibri';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.fillStyle = 'black';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.textAlign = 'center';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.textBaseline = 'middle';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>axisValue = yIncrement*(yNum-i);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>axisLabel = axisValue.toFixed(yNumDecimals);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.fillText(axisLabel, xAxisStart-30, yAxisStart+40*i);</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">         </span>// x-axis</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.strokeStyle = '#000';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.lineWidth = 4;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.beginPath();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.moveTo(xAxisStart-1, yAxisStart+40*yNum);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.lineTo(xAxisStart+40*xNum+20, yAxisStart+40*yNum);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.stroke();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.moveTo(xAxisStart+40*xNum+10, yAxisStart+40*yNum-6);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.lineTo(xAxisStart+40*xNum+20, yAxisStart+40*yNum);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.lineTo(xAxisStart+40*xNum+10, yAxisStart+40*yNum+6);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.lineJoin = 'miter';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.stroke();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.font = '16pt Calibri';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.fillStyle = 'black';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.textAlign = 'left';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.fillText(xAxisTitle, xAxisStart+40*xNum+24, yAxisStart+40*yNum);</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">         </span>// y-axis</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.strokeStyle = '#000';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.beginPath();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.moveTo(xAxisStart, yAxisStart-20);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.lineTo(xAxisStart, yAxisStart+40*yNum);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.stroke();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.moveTo(xAxisStart-6, yAxisStart-10);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.lineTo(xAxisStart, yAxisStart-20);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.lineTo(xAxisStart+6, yAxisStart-10);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.lineJoin = 'miter';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.stroke();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.strokeStyle = '#000';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.textAlign = 'center';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>// <span class="Apple-converted-space">        </span>console.log("In the drawMotion function, with yAxisTitle = " + yAxisTitle + xAxisStart );</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.font = '16pt Calibri';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.fillStyle = 'black';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.fillText(yAxisTitle, xAxisStart-30, yAxisStart - 35);</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>// graph title</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.font = 'bold 18pt Calibri';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.fillStyle = 'purple';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.textAlign = 'center';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.fillText(graphTitle, xAxisStart+40*xNum/2, yAxisStart-24);</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function drawAxesMidY(xAxisStart,yAxisStart,xNum, yNum, xOffset, xIncrement, yIncrement, xNumDecimals, yNumDecimals, xAxisTitle, yAxisTitle, graphTitle) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// set background color for the graph</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.fillStyle = "#eff";</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.fillRect(xAxisStart, yAxisStart, 40*xNum, 40*yNum);</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>var axisLabel = '';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>var axisValue = 0;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">         </span>// vertical grid lines</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">         </span>context.lineWidth = 2;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">         </span>context.strokeStyle = '#888';</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">         </span>for (var i = 0; i &lt;= xNum; i++) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.beginPath();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.moveTo(xAxisStart+40*i, yAxisStart);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.lineTo(xAxisStart+40*i, yAxisStart+40*yNum/2+10);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.stroke();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.moveTo(xAxisStart+40*i, yAxisStart+40*yNum/2+30);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.lineTo(xAxisStart+40*i, yAxisStart+40*yNum);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.stroke();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.font = '14pt Calibri';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.fillStyle = 'black';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.textAlign = 'center';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.textBaseline = 'middle';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>axisValue = xOffset + xIncrement*(i);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>axisLabel = axisValue.toFixed(xNumDecimals);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>if (i &gt; 0) context.fillText(axisLabel, xAxisStart+40*i, yAxisStart+40*yNum/2+20);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">         </span>// horizontal grid lines</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">         </span>for (i = 0; i &lt;= yNum; i++) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.beginPath();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.moveTo(xAxisStart-10, yAxisStart+40*i);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.lineTo(xAxisStart+40*xNum, yAxisStart+40*i);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.stroke();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.font = '14pt Calibri';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.fillStyle = 'black';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.textAlign = 'center';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.textBaseline = 'middle';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>axisValue = yIncrement*(yNum/2-i);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>axisLabel = axisValue.toFixed(yNumDecimals);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.fillText(axisLabel, xAxisStart-30, yAxisStart+40*i);</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">         </span>// x-axis</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.strokeStyle = '#000';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.lineWidth = 4;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.beginPath();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.moveTo(xAxisStart-1, yAxisStart+40*yNum/2);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.lineTo(xAxisStart+40*xNum+20, yAxisStart+40*yNum/2);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.stroke();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.moveTo(xAxisStart+40*xNum+10, yAxisStart+40*yNum/2-6);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.lineTo(xAxisStart+40*xNum+20, yAxisStart+40*yNum/2);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.lineTo(xAxisStart+40*xNum+10, yAxisStart+40*yNum/2+6);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.lineJoin = 'miter';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.stroke();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.font = '16pt Calibri';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.fillStyle = 'black';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.textAlign = 'left';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.fillText(xAxisTitle, xAxisStart+40*xNum+24, yAxisStart+40*yNum/2);</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">         </span>// y-axis</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.strokeStyle = '#000';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.beginPath();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.moveTo(xAxisStart, yAxisStart-20);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.lineTo(xAxisStart, yAxisStart+40*yNum);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.stroke();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.moveTo(xAxisStart-6, yAxisStart-10);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.lineTo(xAxisStart, yAxisStart-20);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.lineTo(xAxisStart+6, yAxisStart-10);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.lineJoin = 'miter';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.stroke();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.strokeStyle = '#000';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.textAlign = 'center';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>// <span class="Apple-converted-space">        </span>console.log("In the drawMotion function, with yAxisTitle = " + yAxisTitle + xAxisStart );</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.font = '16pt Calibri';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.fillStyle = 'black';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.fillText(yAxisTitle, xAxisStart-0, yAxisStart - 35);</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>// graph title</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.font = 'bold 18pt Calibri';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.fillStyle = 'purple';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.textAlign = 'center';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">           </span>context.fillText(graphTitle, xAxisStart+40*xNum/2, yAxisStart-24);</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function drawSlider(sliderX, sliderY, sliderXMin, sliderXMax, sliderValueMin, sliderValueMax, sliderValue, sliderDecimals) {</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">       </span>context.strokeStyle = '#999';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">       </span>context.lineWidth = 8;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">       </span>context.beginPath();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">       </span>context.moveTo(sliderXMin,sliderY);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">       </span>context.lineTo(sliderXMax,sliderY);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">       </span>context.stroke();</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">       </span>context.strokeStyle = '#44f';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">       </span>context.lineWidth = 8;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">       </span>context.beginPath();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">       </span>context.moveTo(sliderXMin,sliderY);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">       </span>context.lineTo(sliderX,sliderY);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">       </span>context.stroke();</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">       </span>context.beginPath();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">       </span>context.arc(sliderX, sliderY, 10, 0, 2 * Math.PI, false);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">       </span>context.fillStyle = '#00f';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">       </span>context.fill();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">       </span>context.lineWidth = 1;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">       </span>context.strokeStyle = 'black';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">       </span>context.stroke();</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">//<span class="Apple-converted-space">  </span>Mouse and Touch event functions from<span class="Apple-converted-space">  </span>Wolfgang Bauer</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">function whereClicked(x_,y_,what_) {<span class="Apple-converted-space">    </span>// underscore denotes local variables</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>//if (what_ == 'down') {console.log('('+x_+','+y_+')'+what_)};</span></p>
<p class="p1"><span class="s1">//<span class="Apple-tab-span">	</span>console.log('('+x_+','+y_+')'+what_);</span></p>
<p class="p1"><span class="s1">//<span class="Apple-converted-space">    </span>console.log("x offset = " + charge1X + " y offset = " + charge1Y);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if ((Math.abs(x_ - (q1sliderX)) &lt; 40) &amp;&amp; (Math.abs(y_ - q1sliderY) &lt; 40)) <span class="Apple-converted-space">  </span>// moving the q1 slider</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>{</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>q1sliderX = x_ ;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (q1sliderX &lt; q1sliderXMin) q1sliderX = q1sliderXMin;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (q1sliderX &gt; q1sliderXMax) q1sliderX = q1sliderXMax;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>q1sliderValue = q1sliderValueMin + (q1sliderValueMax-q1sliderValueMin)*(q1sliderX-q1sliderXMin)/(q1sliderXMax-q1sliderXMin);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>Q1 = q1sliderValue;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>drawMotion();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>else if ((Math.abs(x_ - (q2sliderX)) &lt; 40) &amp;&amp; (Math.abs(y_ - q2sliderY) &lt; 40)) <span class="Apple-converted-space">  </span>// moving the q2 slider</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>{</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>q2sliderX = x_ ;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (q2sliderX &lt; q2sliderXMin) q2sliderX = q2sliderXMin;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (q2sliderX &gt; q2sliderXMax) q2sliderX = q2sliderXMax;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>q2sliderValue = q2sliderValueMin + (q2sliderValueMax-q2sliderValueMin)*(q2sliderX-q2sliderXMin)/(q2sliderXMax-q2sliderXMin);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>Q2 = q2sliderValue;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>drawMotion();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if ((Math.abs(x_ - (q3sliderX)) &lt; 40) &amp;&amp; (Math.abs(y_ - q3sliderY) &lt; 40)) <span class="Apple-converted-space">  </span>// moving the q3 slider</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>{</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>q3sliderX = x_ ;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (q3sliderX &lt; q3sliderXMin) q3sliderX = q3sliderXMin;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (q3sliderX &gt; q3sliderXMax) q3sliderX = q3sliderXMax;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>q3sliderValue = q3sliderValueMin + (q3sliderValueMax-q3sliderValueMin)*(q3sliderX-q3sliderXMin)/(q3sliderXMax-q3sliderXMin);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>Q3 = q3sliderValue;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>drawMotion();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>else if ((Math.abs(x_ - (q4sliderX)) &lt; 40) &amp;&amp; (Math.abs(y_ - q4sliderY) &lt; 40)) <span class="Apple-converted-space">  </span>// moving the q4 slider</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>{</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>q4sliderX = x_ ;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (q4sliderX &lt; q4sliderXMin) q4sliderX = q4sliderXMin;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (q4sliderX &gt; q4sliderXMax) q4sliderX = q4sliderXMax;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>q4sliderValue = q4sliderValueMin + (q4sliderValueMax-q4sliderValueMin)*(q4sliderX-q4sliderXMin)/(q4sliderXMax-q4sliderXMin);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>Q4 = q4sliderValue;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>drawMotion();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">     </span>else if ((Math.abs(x_ - charge1X) &lt; 24) &amp;&amp; (Math.abs(y_ - charge1Y) &lt; 24)) <span class="Apple-converted-space">  </span>// moving charge 1</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>{</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>charge1X = x_ ;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>charge1Y = y_ ;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (charge1Y &gt; 360) charge1Y = 360;</span></p>
<p class="p1"><span class="s1">//<span class="Apple-converted-space">        </span>if (masssliderX &gt; masssliderXMax) masssliderX = masssliderXMax;</span></p>
<p class="p1"><span class="s1">//<span class="Apple-converted-space">        </span>reset();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>drawMotion();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>else if ((Math.abs(x_ - charge2X) &lt; 24) &amp;&amp; (Math.abs(y_ - charge2Y) &lt; 24)) <span class="Apple-converted-space">  </span>// moving charge 2</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>{</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>charge2X = x_ ;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>charge2Y = y_ ;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (charge2Y &gt; 360) charge2Y = 360;</span></p>
<p class="p1"><span class="s1">//<span class="Apple-converted-space">        </span>if (lengthsliderX &gt; lengthsliderXMax) lengthsliderX = lengthsliderXMax;</span></p>
<p class="p1"><span class="s1">//<span class="Apple-converted-space">        </span>reset();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">       </span>drawMotion();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>else if ((Math.abs(x_ - charge3X) &lt; 24) &amp;&amp; (Math.abs(y_ - charge3Y) &lt; 24)) <span class="Apple-converted-space">  </span>// moving charge 3</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>{</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>charge3X = x_ ;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>charge3Y = y_ ;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (charge3Y &gt; 360) charge3Y = 360;</span></p>
<p class="p1"><span class="s1">//<span class="Apple-converted-space">        </span>if (lengthsliderX &gt; lengthsliderXMax) lengthsliderX = lengthsliderXMax;</span></p>
<p class="p1"><span class="s1">//<span class="Apple-converted-space">        </span>reset();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">       </span>drawMotion();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>else if ((Math.abs(x_ - charge4X) &lt; 24) &amp;&amp; (Math.abs(y_ - charge4Y) &lt; 24)) <span class="Apple-converted-space">  </span>// moving charge 4</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>{</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>charge4X = x_ ;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>charge4Y = y_ ;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (charge4Y &gt; 360) charge4Y = 360;</span></p>
<p class="p1"><span class="s1">//<span class="Apple-converted-space">        </span>if (lengthsliderX &gt; lengthsliderXMax) lengthsliderX = lengthsliderXMax;</span></p>
<p class="p1"><span class="s1">//<span class="Apple-converted-space">        </span>reset();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">       </span>drawMotion();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p1"><span class="s1">//<span class="Apple-converted-space">        </span>reset();</span></p>
<p class="p1"><span class="s1">//<span class="Apple-converted-space">      </span>}</span></p>
<p class="p1"><span class="s1">//<span class="Apple-converted-space">      </span>else if ((Math.abs(x_ - (charge2X)) &lt; 15) &amp;&amp; (Math.abs(y_ - charge2Y) &lt; 15))<span class="Apple-converted-space">  </span>// moving the right-hand charge</span></p>
<p class="p1"><span class="s1">//<span class="Apple-converted-space">      </span>{</span></p>
<p class="p1"><span class="s1">//<span class="Apple-converted-space">        </span>charge2X = x_ ;</span></p>
<p class="p1"><span class="s1">//<span class="Apple-converted-space">        </span>charge2Y = y_ ;</span></p>
<p class="p1"><span class="s1">//<span class="Apple-converted-space">        </span>reset();</span></p>
<p class="p1"><span class="s1">//<span class="Apple-converted-space">      </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>if (what_ == 'down') {</span></p>
<p class="p1"><span class="s1">//<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>dragRect = true;</span></p>
<p class="p1"><span class="s1">//<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>x1 = x_; <span class="Apple-converted-space">    </span>// x1, y1 are global variables</span></p>
<p class="p1"><span class="s1">//<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>y1 = y_;</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>if (what_ == 'move') {</span></p>
<p class="p1"><span class="s1">//<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>dragRect = true;</span></p>
<p class="p1"><span class="s1">//<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>dx = x_-x1;</span></p>
<p class="p1"><span class="s1">//<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>dy = y_-y1;</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>if (what_ == 'up') {</span></p>
<p class="p1"><span class="s1">//<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>dragRect = false;</span></p>
<p class="p1"><span class="s1">//<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>dx = x_-x1;</span></p>
<p class="p1"><span class="s1">//<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>dy = y_-y1;</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>}</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">function myMove(event){</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>var xClick = event.pageX - canvasesdiv.offsetLeft;</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>var yClick = event.pageY - canvasesdiv.offsetTop;</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>whereClicked(xClick,yClick,'move');</span></p>
<p class="p1"><span class="s1">//<span class="Apple-tab-span">	</span>drawAll();</span></p>
<p class="p1"><span class="s1">//<span class="Apple-tab-span">	</span>drawMotion();</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">function myDown(event){</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>var xClick = event.pageX - canvasesdiv.offsetLeft;</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>var yClick = event.pageY - canvasesdiv.offsetTop;</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>whereClicked(xClick,yClick,'down');</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>canvas.onmousemove = myMove;</span></p>
<p class="p1"><span class="s1">//<span class="Apple-tab-span">	</span>drawMotion();</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">function myUp(event){</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>var xClick = event.pageX - canvasesdiv.offsetLeft;</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>var yClick = event.pageY - canvasesdiv.offsetTop;</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>whereClicked(xClick,yClick,'up');</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>canvas.onmousemove = null;</span></p>
<p class="p1"><span class="s1">//<span class="Apple-tab-span">	</span>drawMotion();</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">function myTouchMove(event){</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>event.preventDefault();</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>var xClick = event.targetTouches[0].pageX - canvasesdiv.offsetLeft;</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>var yClick = event.targetTouches[0].pageY - canvasesdiv.offsetTop;</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>whereClicked(xClick,yClick,'move');</span></p>
<p class="p1"><span class="s1">//<span class="Apple-tab-span">	</span>drawMotion();</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">function myTouchStart(event){</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>event.preventDefault();</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>var xClick = event.targetTouches[0].pageX - canvasesdiv.offsetLeft;</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>var yClick = event.targetTouches[0].pageY - canvasesdiv.offsetTop;</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>whereClicked(xClick,yClick,'down');</span></p>
<p class="p1"><span class="s1">//<span class="Apple-tab-span">	</span>drawMotion();</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">function myTouchEnd(event){</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>event.preventDefault();</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>var xClick = event.targetTouches[0].pageX - canvasesdiv.offsetLeft;</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>var yClick = event.targetTouches[0].pageY - canvasesdiv.offsetTop;</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>whereClicked(xClick,yClick,'up');</span></p>
<p class="p1"><span class="s1">//<span class="Apple-tab-span">	</span>drawMotion();</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;/script&gt;</span></p>
<p class="p1"><span class="s1">&lt;p&gt;This is like the previous simulation, but this one shows the time evolution of the system. You can get some very interesting</span></p>
<p class="p1"><span class="s1">patterns, especially if you set the sliders so that two of the particles have a positive charge and two have a negative charge.</span></p>
<p class="p1"><span class="s1">What are some things that you notice? If two of the particles get into a death spiral, what can you change to get them out?&lt;/p&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">&lt;p&gt;Note that the simulation slows down by a factor of 10 when two particles get very close together. Even then, the physics may not be exactly right - it's hard to handle infinities well!&lt;/p&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">&lt;p&gt;Simulation written by Andrew Duffy, and first posted on 4-25-2018. &lt;/p&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;a rel="license" href="<a href="view-source:http://creativecommons.org/licenses/by-nc-sa/4.0/"><span class="s2">http://creativecommons.org/licenses/by-nc-sa/4.0/</span></a>"&gt;&lt;img alt="Creative Commons License" style="border-width:0" src="<a href="view-source:https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png"><span class="s2">https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png</span></a>" /&gt;&lt;/a&gt;&lt;br /&gt;This &lt;span xmlns:dct="http://purl.org/dc/terms/" href="<a href="view-source:http://purl.org/dc/dcmitype/InteractiveResource"><span class="s2">http://purl.org/dc/dcmitype/InteractiveResource</span></a>" rel="dct:type"&gt;work&lt;/span&gt; by &lt;span xmlns:cc="http://creativecommons.org/ns#" property="cc:attributionName"&gt;Andrew Duffy&lt;/span&gt; is licensed under a &lt;a rel="license" href="<a href="view-source:https://creativecommons.org/licenses/by-nc-sa/4.0/"><span class="s2">https://creativecommons.org/licenses/by-nc-sa/4.0/</span></a>"&gt;Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License&lt;/a&gt;.&lt;br /&gt;This simulation can be found in the collection at &lt;a xmlns:dct="http://purl.org/dc/terms/" href="<a href="view-source:http://physics.bu.edu/~duffy/classroom.html"><span class="s2">http://physics.bu.edu/~duffy/classroom.html</span></a>" rel="dct:source"&gt;http://physics.bu.edu/~duffy/classroom.html&lt;/a&gt;.</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">&lt;/body&gt;</span></p>
<p class="p1"><span class="s1">&lt;/html&gt;</span></p>
</body>
</html>
